{"version":3,"sources":["../src/headroom.js"],"names":["root","factory","define","amd","exports","module","Headroom","features","bind","classList","document","documentElement","rAF","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Debouncer","callback","ticking","prototype","constructor","update","requestTick","rafCallback","handleEvent","isDOMElement","obj","nodeType","extend","object","arguments","length","Error","result","key","i","replacement","normalizeTolerance","t","Object","down","up","elem","options","lastKnownScrollY","tolerance","classes","offset","scroller","initialised","onPin","onUnpin","onTop","onNotTop","onBottom","onNotBottom","init","cutsTheMustard","debouncer","add","initial","setTimeout","attachEvent","destroy","remove","unpinned","pinned","top","notTop","removeEventListener","getScrollY","addEventListener","unpin","contains","call","pin","bottom","notBottom","pageYOffset","scrollTop","body","parentNode","getViewportHeight","innerHeight","clientHeight","getElementPhysicalHeight","elm","Math","max","offsetHeight","getScrollerPhysicalHeight","getDocumentHeight","scrollHeight","getElementHeight","getScrollerHeight","isOutOfBounds","currentScrollY","pastBottom","toleranceExceeded","direction","abs","shouldUnpin","scrollingDown","pastOffset","shouldPin","scrollingUp","scrollDirection"],"mappings":"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","sourcesContent":["/*!\n * headroom.js v0.9.3 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2016 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function(root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    }\n    else if (typeof exports === 'object') {\n        // COMMONJS\n        module.exports = factory();\n    }\n    else {\n        // BROWSER\n        root.Headroom = factory();\n    }\n}(this, function() {\n    'use strict';\n\n    /* exported features */\n\n    var features = {\n        bind : !!(function(){}.bind),\n        classList : 'classList' in document.documentElement,\n        rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\n    };\n    window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\n    /**\n     * Handles debouncing of events via requestAnimationFrame\n     * @see http://www.html5rocks.com/en/tutorials/speed/animations/\n     * @param {Function} callback The callback to handle whichever event\n     */\n    function Debouncer (callback) {\n        this.callback = callback;\n        this.ticking = false;\n    }\n    Debouncer.prototype = {\n        constructor : Debouncer,\n\n        /**\n         * dispatches the event to the supplied callback\n         * @private\n         */\n        update : function() {\n            this.callback && this.callback();\n            this.ticking = false;\n        },\n\n        /**\n         * ensures events don't get stacked\n         * @private\n         */\n        requestTick : function() {\n            if(!this.ticking) {\n                requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\n                this.ticking = true;\n            }\n        },\n\n        /**\n         * Attach this as the event listeners\n         */\n        handleEvent : function() {\n            this.requestTick();\n        }\n    };\n    /**\n     * Check if object is part of the DOM\n     * @constructor\n     * @param {Object} obj element to check\n     */\n    function isDOMElement(obj) {\n        return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\n    }\n\n    /**\n     * Helper function for extending objects\n     */\n    function extend (object /*, objectN ... */) {\n        if(arguments.length <= 0) {\n            throw new Error('Missing arguments in extend function');\n        }\n\n        var result = object || {},\n            key,\n            i;\n\n        for (i = 1; i < arguments.length; i++) {\n            var replacement = arguments[i] || {};\n\n            for (key in replacement) {\n                // Recurse into object except if the object is a DOM element\n                if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\n                    result[key] = extend(result[key], replacement[key]);\n                }\n                else {\n                    result[key] = result[key] || replacement[key];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Helper function for normalizing tolerance option to object format\n     */\n    function normalizeTolerance (t) {\n        return t === Object(t) ? t : { down : t, up : t };\n    }\n\n    /**\n     * UI enhancement for fixed headers.\n     * Hides header when scrolling down\n     * Shows header when scrolling up\n     * @constructor\n     * @param {DOMElement} elem the header element\n     * @param {Object} options options for the widget\n     */\n    function Headroom (elem, options) {\n        options = extend(options, Headroom.options);\n\n        this.lastKnownScrollY = 0;\n        this.elem             = elem;\n        this.tolerance        = normalizeTolerance(options.tolerance);\n        this.classes          = options.classes;\n        this.offset           = options.offset;\n        this.scroller         = options.scroller;\n        this.initialised      = false;\n        this.onPin            = options.onPin;\n        this.onUnpin          = options.onUnpin;\n        this.onTop            = options.onTop;\n        this.onNotTop         = options.onNotTop;\n        this.onBottom         = options.onBottom;\n        this.onNotBottom      = options.onNotBottom;\n    }\n    Headroom.prototype = {\n        constructor : Headroom,\n\n        /**\n         * Initialises the widget\n         */\n        init : function() {\n            if(!Headroom.cutsTheMustard) {\n                return;\n            }\n\n            this.debouncer = new Debouncer(this.update.bind(this));\n            this.elem.classList.add(this.classes.initial);\n\n            // defer event registration to handle browser\n            // potentially restoring previous scroll position\n            setTimeout(this.attachEvent.bind(this), 100);\n\n            return this;\n        },\n\n        /**\n         * Unattaches events and removes any classes that were added\n         */\n        destroy : function() {\n            var classes = this.classes;\n\n            this.initialised = false;\n            this.elem.classList.remove(classes.unpinned, classes.pinned, classes.top, classes.notTop, classes.initial);\n            this.scroller.removeEventListener('scroll', this.debouncer, false);\n        },\n\n        /**\n         * Attaches the scroll event\n         * @private\n         */\n        attachEvent : function() {\n            if(!this.initialised){\n                this.lastKnownScrollY = this.getScrollY();\n                this.initialised = true;\n                this.scroller.addEventListener('scroll', this.debouncer, false);\n\n                this.debouncer.handleEvent();\n            }\n        },\n\n        /**\n         * Unpins the header if it's currently pinned\n         */\n        unpin : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\n                classList.add(classes.unpinned);\n                classList.remove(classes.pinned);\n                this.onUnpin && this.onUnpin.call(this);\n            }\n        },\n\n        /**\n         * Pins the header if it's currently unpinned\n         */\n        pin : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(classList.contains(classes.unpinned)) {\n                classList.remove(classes.unpinned);\n                classList.add(classes.pinned);\n                this.onPin && this.onPin.call(this);\n            }\n        },\n\n        /**\n         * Handles the top states\n         */\n        top : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(!classList.contains(classes.top)) {\n                classList.add(classes.top);\n                classList.remove(classes.notTop);\n                this.onTop && this.onTop.call(this);\n            }\n        },\n\n        /**\n         * Handles the not top state\n         */\n        notTop : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(!classList.contains(classes.notTop)) {\n                classList.add(classes.notTop);\n                classList.remove(classes.top);\n                this.onNotTop && this.onNotTop.call(this);\n            }\n        },\n\n        bottom : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(!classList.contains(classes.bottom)) {\n                classList.add(classes.bottom);\n                classList.remove(classes.notBottom);\n                this.onBottom && this.onBottom.call(this);\n            }\n        },\n\n        /**\n         * Handles the not top state\n         */\n        notBottom : function() {\n            var classList = this.elem.classList,\n                classes = this.classes;\n\n            if(!classList.contains(classes.notBottom)) {\n                classList.add(classes.notBottom);\n                classList.remove(classes.bottom);\n                this.onNotBottom && this.onNotBottom.call(this);\n            }\n        },\n\n        /**\n         * Gets the Y scroll position\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\n         * @return {Number} pixels the page has scrolled along the Y-axis\n         */\n        getScrollY : function() {\n            return (this.scroller.pageYOffset !== undefined)\n                ? this.scroller.pageYOffset\n                : (this.scroller.scrollTop !== undefined)\n                ? this.scroller.scrollTop\n                : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n        },\n\n        /**\n         * Gets the height of the viewport\n         * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n         * @return {int} the height of the viewport in pixels\n         */\n        getViewportHeight : function () {\n            return window.innerHeight\n                || document.documentElement.clientHeight\n                || document.body.clientHeight;\n        },\n\n        /**\n         * Gets the physical height of the DOM element\n         * @param  {Object}  elm the element to calculate the physical height of which\n         * @return {int}     the physical height of the element in pixels\n         */\n        getElementPhysicalHeight : function (elm) {\n            return Math.max(\n                elm.offsetHeight,\n                elm.clientHeight\n            );\n        },\n\n        /**\n         * Gets the physical height of the scroller element\n         * @return {int} the physical height of the scroller element in pixels\n         */\n        getScrollerPhysicalHeight : function () {\n            return (this.scroller === window || this.scroller === document.body)\n                ? this.getViewportHeight()\n                : this.getElementPhysicalHeight(this.scroller);\n        },\n\n        /**\n         * Gets the height of the document\n         * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n         * @return {int} the height of the document in pixels\n         */\n        getDocumentHeight : function () {\n            var body = document.body,\n                documentElement = document.documentElement;\n\n            return Math.max(\n                body.scrollHeight, documentElement.scrollHeight,\n                body.offsetHeight, documentElement.offsetHeight,\n                body.clientHeight, documentElement.clientHeight\n            );\n        },\n\n        /**\n         * Gets the height of the DOM element\n         * @param  {Object}  elm the element to calculate the height of which\n         * @return {int}     the height of the element in pixels\n         */\n        getElementHeight : function (elm) {\n            return Math.max(\n                elm.scrollHeight,\n                elm.offsetHeight,\n                elm.clientHeight\n            );\n        },\n\n        /**\n         * Gets the height of the scroller element\n         * @return {int} the height of the scroller element in pixels\n         */\n        getScrollerHeight : function () {\n            return (this.scroller === window || this.scroller === document.body)\n                ? this.getDocumentHeight()\n                : this.getElementHeight(this.scroller);\n        },\n\n        /**\n         * determines if the scroll position is outside of document boundaries\n         * @param  {int}  currentScrollY the current y scroll position\n         * @return {bool} true if out of bounds, false otherwise\n         */\n        isOutOfBounds : function (currentScrollY) {\n            var pastTop  = currentScrollY < 0,\n                pastBottom = currentScrollY + this.getScrollerPhysicalHeight() > this.getScrollerHeight();\n\n            return pastTop || pastBottom;\n        },\n\n        /**\n         * determines if the tolerance has been exceeded\n         * @param  {int} currentScrollY the current scroll y position\n         * @return {bool} true if tolerance exceeded, false otherwise\n         */\n        toleranceExceeded : function (currentScrollY, direction) {\n            return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\n        },\n\n        /**\n         * determine if it is appropriate to unpin\n         * @param  {int} currentScrollY the current y scroll position\n         * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n         * @return {bool} true if should unpin, false otherwise\n         */\n        shouldUnpin : function (currentScrollY, toleranceExceeded) {\n            var scrollingDown = currentScrollY > this.lastKnownScrollY,\n                pastOffset = currentScrollY >= this.offset;\n\n            return scrollingDown && pastOffset && toleranceExceeded;\n        },\n\n        /**\n         * determine if it is appropriate to pin\n         * @param  {int} currentScrollY the current y scroll position\n         * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n         * @return {bool} true if should pin, false otherwise\n         */\n        shouldPin : function (currentScrollY, toleranceExceeded) {\n            var scrollingUp  = currentScrollY < this.lastKnownScrollY,\n                pastOffset = currentScrollY <= this.offset;\n\n            return (scrollingUp && toleranceExceeded) || pastOffset;\n        },\n\n        /**\n         * Handles updating the state of the widget\n         */\n        update : function() {\n            var currentScrollY  = this.getScrollY(),\n                scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\n                toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\n\n            if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\n                return;\n            }\n\n            if (currentScrollY <= this.offset ) {\n                this.top();\n            } else {\n                this.notTop();\n            }\n\n            if(currentScrollY + this.getViewportHeight() >= this.getScrollerHeight()) {\n                this.bottom();\n            }\n            else {\n                this.notBottom();\n            }\n\n            if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\n                this.unpin();\n            }\n            else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\n                this.pin();\n            }\n\n            this.lastKnownScrollY = currentScrollY;\n        }\n    };\n    /**\n     * Default options\n     * @type {Object}\n     */\n    Headroom.options = {\n        tolerance : {\n            up : 0,\n            down : 0\n        },\n        offset : 0,\n        scroller: window,\n        classes : {\n            pinned : 'headroom--pinned',\n            unpinned : 'headroom--unpinned',\n            top : 'headroom--top',\n            notTop : 'headroom--not-top',\n            bottom : 'headroom--bottom',\n            notBottom : 'headroom--not-bottom',\n            initial : 'headroom'\n        }\n    };\n    Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\n\n    return Headroom;\n}));\n"],"file":"headroom.min.js"}