{"version":3,"sources":["../src/appear.js"],"names":["define","jQuery","$","selectors","check_binded","check_lock","defaults","interval","force_process","options","$window","window","$prior_appeared","appeared","selector","filter","is","process","index","selectorsLength","length","$appeared","trigger","$disappeared","not","add_selector","push","expr","element","$element","window_left","scrollLeft","window_top","scrollTop","offset","left","top","appeartopoffset","data","appearleftoffset","height","width","fn","extend","appear","opts","on_check","setTimeout","scroll","resize","force_appear","module","require"],"mappings":"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","sourcesContent":["// jshint ignore: start\ndefine(['jquery'],\n    function(jQuery) {\n\n        /*\n         * jQuery appear plugin\n         *\n         * Copyright (c) 2012 Andrey Sidorov\n         * licensed under MIT license.\n         *\n         * https://github.com/morr/jquery.appear/\n         *\n         * Version: 0.3.6\n         */\n         (function($) {\n            var selectors = [];\n\n            var check_binded = false;\n            var check_lock = false;\n            var defaults = {\n                interval: 250,\n                force_process: false\n            };\n            var options = {}; // GT Mod, place options in scope for entire library.\n            var $window = $(window);\n\n            var $prior_appeared = [];\n\n            function appeared(selector) {\n                return $(selector).filter(function() {\n                    return $(this).is(':appeared');\n                });\n            }\n\n            function process() {\n                check_lock = false;\n                for (var index = 0, selectorsLength = selectors.length; index < selectorsLength; index++) {\n                    var $appeared = appeared(selectors[index]);\n\n                    $appeared.trigger('appear', [$appeared]);\n\n                    if ($prior_appeared[index]) {\n                        var $disappeared = $prior_appeared[index].not($appeared);\n                        $disappeared.trigger('disappear', [$disappeared]);\n                    }\n                    $prior_appeared[index] = $appeared;\n                }\n            }\n\n            function add_selector(selector) {\n                selectors.push(selector);\n                $prior_appeared.push();\n            }\n\n            // \"appeared\" custom filter\n            $.expr[':'].appeared = function(element) {\n                var $element = $(element);\n                if (!$element.is(':visible')) {\n                    return false;\n                }\n\n                var window_left = $window.scrollLeft();\n                var window_top = $window.scrollTop();\n                var offset = $element.offset();\n                var left = offset.left;\n                var top = offset.top;\n\n                // GT Mod - use options variable for offsets if data attribute not set.\n                var appeartopoffset = $element.data('appear-top-offset') || (options.appeartopoffset || 0);\n                var appearleftoffset = $element.data('appear-left-offset') || (options.appearleftoffset || 0);\n\n                if (top + $element.height() + appeartopoffset >= window_top &&\n                    top - appeartopoffset <= window_top + $window.height() &&\n                    left + $element.width() + appearleftoffset >= window_left &&\n                    left - appearleftoffset <= window_left + $window.width()) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n\n            $.fn.extend({\n                // watching for element's appearance in browser viewport\n                appear: function(opts) {\n                    // GT Mod, set options variable which is declared within scope of entire module.\n                    options = $.extend({}, defaults, opts || {});\n                    var selector = this.selector || this;\n                    if (!check_binded) {\n                        var on_check = function() {\n                            if (check_lock) {\n                                return;\n                            }\n                            check_lock = true;\n\n                            setTimeout(process, options.interval);\n                        };\n\n                        $(window).scroll(on_check).resize(on_check);\n                        $('.appear_enabled').scroll(on_check);\n                        check_binded = true;\n                    }\n\n                    if (options.force_process) {\n                        setTimeout(process, options.interval);\n                    }\n                    add_selector(selector);\n                    return $(selector);\n                }\n            });\n\n            $.extend({\n                // force elements's appearance check\n                force_appear: function() {\n                    if (check_binded) {\n                        process();\n                        return true;\n                    }\n                    return false;\n                }\n            });\n        })(function() {\n            if (typeof module !== 'undefined') {\n                // Node\n                return require('jquery');\n            } else {\n                return jQuery;\n            }\n        }());\n\n        return jQuery;\n\n    }\n);\n"],"file":"appear.min.js"}